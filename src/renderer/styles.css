/* Basit modern tasarım - reactbits tarzı esintiler */
:root {
  --radius:14px;
  --shadow:0 4px 16px -4px rgba(0,0,0,.5),0 0 0 1px var(--border);
  font-family:'Inter',system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
}

/* Dark Theme (varsayılan) */
:root, [data-theme="dark"] {
  --bg:#050505;
  --bg-alt:#0e0e0e;
  --border:#2f241c;
  --accent:#b97723;
  --accent-hover:#c8862d;
  --text:#efe9e4;
  --text-dim:#9f8f81;
  --danger:#e74f4f;
  --card-grad:linear-gradient(145deg,#15110e,#0b0b0b 60%);
  --card-overlay:linear-gradient(120deg,rgba(185,119,35,.18),transparent,rgba(110,70,25,.22));
  --brown-grad:linear-gradient(120deg,#5a3a22,#2f1d12);
  --input-bg:#0f141b;
  --input-border:#2a313a;
  --button-bg:#222a33;
  --button-hover:#2b353f;
  --scroll-track:#080808;
  --scroll-thumb:#1b1b1b;
  --scroll-thumb-hover:#272727;
  --window-bg:rgba(10,8,6,.6);
  --shadow-color:rgba(0,0,0,.7);
}

/* Light Theme */
[data-theme="light"] {
  --bg:#faf8f6;
  --bg-alt:#f5f2ef;
  --border:#d4c4b0;
  --accent:#8b4513;
  --accent-hover:#a0522d;
  --text:#2f1b14;
  --text-dim:#6b4423;
  --danger:#dc3545;
  --card-grad:linear-gradient(145deg,#ffffff,#f8f5f2 60%);
  --card-overlay:linear-gradient(120deg,rgba(139,69,19,.08),transparent,rgba(160,82,45,.12));
  --brown-grad:linear-gradient(120deg,#ddbf94,#f4e4c1);
  --input-bg:#ffffff;
  --input-border:#d4c4b0;
  --button-bg:#f0ebe6;
  --button-hover:#e8e0d8;
  --scroll-track:#f0f0f0;
  --scroll-thumb:#c0c0c0;
  --scroll-thumb-hover:#a0a0a0;
  --window-bg:rgba(250,245,240,.9);
  --shadow-color:rgba(139,69,19,.2);
}

/* Ocean Blue Theme */
[data-theme="ocean"] {
  --bg:#0f1419;
  --bg-alt:#1a2332;
  --border:#2d4f67;
  --accent:#5f9ea0;
  --accent-hover:#7bb3b6;
  --text:#e6f3f7;
  --text-dim:#a4c1c9;
  --danger:#ff6b6b;
  --card-grad:linear-gradient(145deg,#1e2a3a,#0f1419 60%);
  --card-overlay:linear-gradient(120deg,rgba(95,158,160,.18),transparent,rgba(70,130,180,.22));
  --brown-grad:linear-gradient(120deg,#2d4f67,#1a2332);
  --input-bg:#1a2332;
  --input-border:#2d4f67;
  --button-bg:#2d4f67;
  --button-hover:#3a5f7d;
  --scroll-track:#0f1419;
  --scroll-thumb:#2d4f67;
  --scroll-thumb-hover:#3a5f7d;
  --window-bg:rgba(15,20,25,.7);
  --shadow-color:rgba(0,0,0,.8);
}

/* Sakura Theme */
[data-theme="sakura"] {
  --bg:#1a0f1a;
  --bg-alt:#2d1b2d;
  --border:#5c3a5c;
  --accent:#da70d6;
  --accent-hover:#e584e8;
  --text:#f5e6f5;
  --text-dim:#c9a9c9;
  --danger:#ff6b9d;
  --card-grad:linear-gradient(145deg,#2d1b2d,#1a0f1a 60%);
  --card-overlay:linear-gradient(120deg,rgba(218,112,214,.18),transparent,rgba(255,105,180,.22));
  --brown-grad:linear-gradient(120deg,#5c3a5c,#2d1b2d);
  --input-bg:#2d1b2d;
  --input-border:#5c3a5c;
  --button-bg:#5c3a5c;
  --button-hover:#704a70;
  --scroll-track:#1a0f1a;
  --scroll-thumb:#5c3a5c;
  --scroll-thumb-hover:#704a70;
  --window-bg:rgba(26,15,26,.7);
  --shadow-color:rgba(0,0,0,.8);
}

/* Forest Green Theme */
[data-theme="forest"] {
  --bg:#0d1a0d;
  --bg-alt:#1a2e1a;
  --border:#2d5a2d;
  --accent:#4caf50;
  --accent-hover:#66bb6a;
  --text:#e6f5e6;
  --text-dim:#a9c9a9;
  --danger:#ff5722;
  --card-grad:linear-gradient(145deg,#1a2e1a,#0d1a0d 60%);
  --card-overlay:linear-gradient(120deg,rgba(76,175,80,.18),transparent,rgba(34,139,34,.22));
  --brown-grad:linear-gradient(120deg,#2d5a2d,#1a2e1a);
  --input-bg:#1a2e1a;
  --input-border:#2d5a2d;
  --button-bg:#2d5a2d;
  --button-hover:#3a6e3a;
  --scroll-track:#0d1a0d;
  --scroll-thumb:#2d5a2d;
  --scroll-thumb-hover:#3a6e3a;
  --window-bg:rgba(13,26,13,.7);
  --shadow-color:rgba(0,0,0,.8);
}

/* Sunset Theme */
[data-theme="sunset"] {
  --bg:#1a0f0d;
  --bg-alt:#2d1a1a;
  --border:#5c2d2d;
  --accent:#ff6347;
  --accent-hover:#ff7f59;
  --text:#fff5ee;
  --text-dim:#d2b48c;
  --danger:#dc143c;
  --card-grad:linear-gradient(145deg,#2d1a1a,#1a0f0d 60%);
  --card-overlay:linear-gradient(120deg,rgba(255,99,71,.18),transparent,rgba(255,140,0,.22));
  --brown-grad:linear-gradient(120deg,#5c2d2d,#2d1a1a);
  --input-bg:#2d1a1a;
  --input-border:#5c2d2d;
  --button-bg:#5c2d2d;
  --button-hover:#704a4a;
  --scroll-track:#1a0f0d;
  --scroll-thumb:#5c2d2d;
  --scroll-thumb-hover:#704a4a;
  --window-bg:rgba(26,15,13,.7);
  --shadow-color:rgba(0,0,0,.8);
}

/* Purple Haze Theme */
[data-theme="purple"] {
  --bg:#120a1a;
  --bg-alt:#1f1530;
  --border:#3d2d5c;
  --accent:#9c27b0;
  --accent-hover:#ab47bc;
  --text:#f3e5f5;
  --text-dim:#c8a2db;
  --danger:#e91e63;
  --card-grad:linear-gradient(145deg,#1f1530,#120a1a 60%);
  --card-overlay:linear-gradient(120deg,rgba(156,39,176,.18),transparent,rgba(142,36,170,.22));
  --brown-grad:linear-gradient(120deg,#3d2d5c,#1f1530);
  --input-bg:#1f1530;
  --input-border:#3d2d5c;
  --button-bg:#3d2d5c;
  --button-hover:#503d70;
  --scroll-track:#120a1a;
  --scroll-thumb:#3d2d5c;
  --scroll-thumb-hover:#503d70;
  --window-bg:rgba(18,10,26,.7);
  --shadow-color:rgba(0,0,0,.8);
}

/* Mocha Theme */
[data-theme="mocha"] {
  --bg:#1a0f0a;
  --bg-alt:#2d1b15;
  --border:#5c3a22;
  --accent:#d2691e;
  --accent-hover:#e67e22;
  --text:#f5e6d3;
  --text-dim:#c9a876;
  --danger:#cd5c5c;
  --card-grad:linear-gradient(145deg,#2d1b15,#1a0f0a 60%);
  --card-overlay:linear-gradient(120deg,rgba(210,105,30,.18),transparent,rgba(160,82,45,.22));
  --brown-grad:linear-gradient(120deg,#5c3a22,#2d1b15);
  --input-bg:#2d1b15;
  --input-border:#5c3a22;
  --button-bg:#5c3a22;
  --button-hover:#704a30;
  --scroll-track:#1a0f0a;
  --scroll-thumb:#5c3a22;
  --scroll-thumb-hover:#704a30;
  --window-bg:rgba(26,15,10,.7);
  --shadow-color:rgba(0,0,0,.8);
}

/* Galaxy Theme */
[data-theme="galaxy"] {
  --bg:#0a0a15;
  --bg-alt:#15152d;
  --border:#2d2d5c;
  --accent:#6a5acd;
  --accent-hover:#7b68ee;
  --text:#e6e6ff;
  --text-dim:#a8a8d8;
  --danger:#ff4757;
  --card-grad:linear-gradient(145deg,#15152d,#0a0a15 60%);
  --card-overlay:linear-gradient(120deg,rgba(106,90,205,.18),transparent,rgba(72,61,139,.22));
  --brown-grad:linear-gradient(120deg,#2d2d5c,#15152d);
  --input-bg:#15152d;
  --input-border:#2d2d5c;
  --button-bg:#2d2d5c;
  --button-hover:#3d3d70;
  --scroll-track:#0a0a15;
  --scroll-thumb:#2d2d5c;
  --scroll-thumb-hover:#3d3d70;
  --window-bg:rgba(10,10,21,.7);
  --shadow-color:rgba(0,0,0,.8);
}

/* Nord Theme */
[data-theme="nord"] {
  --bg:#2e3440;
  --bg-alt:#3b4252;
  --border:#4c566a;
  --accent:#5e81ac;
  --accent-hover:#81a1c1;
  --text:#eceff4;
  --text-dim:#d8dee9;
  --danger:#bf616a;
  --card-grad:linear-gradient(145deg,#3b4252,#2e3440 60%);
  --card-overlay:linear-gradient(120deg,rgba(94,129,172,.18),transparent,rgba(136,192,208,.22));
  --brown-grad:linear-gradient(120deg,#4c566a,#3b4252);
  --input-bg:#3b4252;
  --input-border:#4c566a;
  --button-bg:#4c566a;
  --button-hover:#5e6b7d;
  --scroll-track:#2e3440;
  --scroll-thumb:#4c566a;
  --scroll-thumb-hover:#5e6b7d;
  --window-bg:rgba(46,52,64,.8);
  --shadow-color:rgba(0,0,0,.6);
}

html,body {
  height:100%;
  margin:0;
  background:var(--bg);
  transition:background-color 0.3s ease, color 0.3s ease;
}

[data-theme="dark"] html,
[data-theme="dark"] body {
  background:radial-gradient(circle at 25% 18%,#15100c,#050505 60%);
}

[data-theme="light"] html,
[data-theme="light"] body {
  background:radial-gradient(circle at 25% 18%,#f8f5f2,#faf8f6 60%);
}
body {color:var(--text); -webkit-font-smoothing: antialiased;}
* {box-sizing:border-box;}

.app-shell {max-width:1400px;margin:48px auto;padding:0 24px;display:flex;flex-direction:column;gap:28px;}
.top-row {display:flex;gap:24px;align-items:stretch;}
.top-row .add-form {flex:1;}
.search-bar-wrapper {position:sticky;top:0;z-index:40;}
.search-bar-wrapper .search-full {font-size:.8rem;padding:12px 16px;border-radius:14px;margin-bottom:-4px;box-shadow:0 4px 14px -6px rgba(0,0,0,.7);}
.window-bar {position:fixed;top:0;left:0;right:0;height:30px;display:flex;align-items:center;justify-content:flex-end;padding:0 8px;z-index:100;background:var(--window-bg);backdrop-filter:blur(8px);border-bottom:1px solid var(--border);}
.window-bar .window-drag {position:absolute;inset:0;-webkit-app-region:drag;}
.win-buttons {display:flex;gap:6;position:relative;z-index:2;}
.win-btn {width:34px;height:22px;display:flex;align-items:center;justify-content:center;font-size:.65rem;border:1px solid var(--border);background:var(--button-bg);color:var(--text-dim);border-radius:6px;cursor:pointer;-webkit-app-region:no-drag;transition:.18s;letter-spacing:.5px;font-weight:600;}
.win-btn:hover {background:var(--button-hover);color:var(--text);border-color:var(--accent);}
.win-btn.close {color:#f44336;border-color:#f44336;background:var(--button-bg);}
.win-btn.close:hover {background:#f44336;border-color:#f44336;color:#fff;}
body {padding-top:50px;}
.pomo.inline {width:470px;display:flex;flex-direction:column;gap:14px;}
.pomo-flex {display:flex;gap:18px;align-items:center;}
.pomo-circle-wrapper.small {flex-shrink:0;}
.pomo-settings {display:flex;flex-direction:column;gap:8px;align-items:stretch;width:100%;}
.pomo-settings .dur-row {display:flex;align-items:center;gap:8px;}
.pomo-settings .dur-row label {width:48px;font-size:.65rem;letter-spacing:.5px;text-transform:uppercase;color:var(--text-dim);}
.pomo-settings .dur-row input {background:var(--input-bg);border:1px solid var(--input-border);color:var(--text);padding:6px 8px;width:70px;border-radius:8px;font-size:.75rem;}
.pomo-settings .dur-row input:focus {outline:none;border-color:var(--accent);box-shadow:0 0 0 1px var(--accent);}
.shortcut-info {margin-top:4px;background:var(--input-bg);border:1px solid var(--border);padding:12px 14px;border-radius:14px;font-size:.8rem;line-height:1.5;}
.shortcut-info ul {list-style:none;margin:8px 0 0;padding:0;display:flex;flex-direction:column;gap:6px;}
.shortcut-info code {background:var(--button-bg);padding:4px 8px;border-radius:6px;font-size:.75rem;color:var(--text);border:1px solid var(--border);font-weight:600;}
.btn.xs {padding:6px 10px;font-size:.65rem;}

/* Etiket stilleri */
.tag-item {display:inline-flex;align-items:center;gap:4px;background:var(--input-bg);border:1px solid var(--border);padding:2px 6px;border-radius:12px;font-size:.7rem;color:var(--text);}
.tag-remove-btn {background:transparent;border:none;color:var(--text-dim);font-size:10px;padding:0 2px;cursor:pointer;border-radius:2px;transition:.2s;}
.tag-remove-btn:hover {background:var(--button-hover);color:var(--text);}

/* Todo item etiketleri - temaya uygun */
.tag-badge {
  background: var(--input-bg);
  border: 1px solid var(--border);
  color: var(--text);
  padding: 2px 6px;
  border-radius: 6px;
  font-size: .55rem;
  font-weight: 500;
  transition: all 0.2s ease;
}

[data-theme="light"] .tag-badge {
  background: var(--button-bg);
  border-color: var(--accent);
  color: var(--accent);
}

[data-theme="dark"] .tag-badge {
  background: var(--input-bg);
  border-color: var(--border);
  color: var(--text);
}

/* Yeni temalarda tag visibility */
[data-theme="ocean"] .tag-badge,
[data-theme="sakura"] .tag-badge,
[data-theme="forest"] .tag-badge,
[data-theme="sunset"] .tag-badge,
[data-theme="purple"] .tag-badge,
[data-theme="mocha"] .tag-badge,
[data-theme="galaxy"] .tag-badge,
[data-theme="nord"] .tag-badge {
  background: var(--input-bg);
  border-color: var(--accent);
  color: var(--accent);
}
.pomo-actions.compact {position:absolute;bottom:8px;left:50%;transform:translateX(-50%);display:flex;}
.column {display:flex;flex-direction:column;}
.list-area {display:flex;flex-direction:column;gap:20px;}

@media (max-width:1100px){
  .top-row {flex-direction:column;}
  .pomo.inline {width:100%;}
  .pomo-flex {justify-content:center;flex-wrap:wrap;}
}
.layout-two {flex-direction:row;align-items:stretch;gap:28px;}
.left-pane {flex:1;display:flex;flex-direction:column;gap:20px;min-width:380px;}
.right-pane {width:320px;display:flex;flex-direction:column;gap:20px;}
.detail-pane {flex:1;display:flex;}

.detail-shell {display:flex;flex-direction:column;gap:24px;width:100%;}
.detail-header {display:flex;align-items:center;gap:16px;}
.detail-header h2 {margin:0;font-size:1.4rem;}
.banner-area {height:260px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;}
.banner-media {max-width:100%;max-height:100%;border-radius:10px;object-fit:cover;width:100%;height:100%;}
.banner-placeholder {font-size:.85rem;color:var(--text-dim);}
.notes-block h3 {margin:0 0 12px;font-size:1.05rem;}
.notes-block .list {max-height:200px;overflow:auto;}

/* Banner Background Effects */
.notes-block {
  position: relative;
  overflow: hidden;
}

.notes-block::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: inherit;
  background-size: inherit;
  background-position: inherit;
  background-attachment: inherit;
  filter: blur(8px) brightness(0.3);
  z-index: 0;
}

.notes-content {
  position: relative;
  z-index: 1;
  background: var(--card-bg);
  backdrop-filter: blur(4px);
  border-radius: 8px;
  padding: 16px;
  border: 1px solid var(--border);
}

.note-new {margin-top:16px;display:flex;flex-direction:column;gap:10px;}

/* Pomodoro */
.pomo {display:flex;flex-direction:column;gap:18px;align-items:center;text-align:center;}
.pomo-modes {display:flex;gap:8px;flex-wrap:wrap;justify-content:center;}
.pomo-mode-btn {background:var(--button-bg);border:1px solid var(--border);color:var(--text-dim);padding:6px 12px;border-radius:20px;font-size:.7rem;letter-spacing:.5px;cursor:pointer;transition:.2s;text-transform:uppercase;font-weight:600;}
.pomo-mode-btn.active, .pomo-mode-btn:hover {color:var(--text);border-color:var(--accent);background:var(--button-hover);}
.pomo-circle-wrapper {position:relative;}
.pomo-circle {filter:drop-shadow(0 4px 14px var(--shadow-color));}
.pomo-time {font-size:1.9rem;fill:var(--text);font-weight:600;}
.pomo-actions {display:flex;gap:10px;}

@media (max-width:1180px){
  .layout-two {flex-direction:column;}
  .right-pane {width:100%;flex-direction:row;justify-content:center;}
}
.app-header {text-align:center;}
.app-header h1 {margin:0;font-size:clamp(1.8rem,3vw,2.6rem);background:linear-gradient(90deg,#818cf8,#c084fc);-webkit-background-clip:text;background-clip:text;color:transparent;letter-spacing:.5px;}
.subtitle {margin:4px 0 0;font-size:.9rem;color:var(--text-dim);}

.card {background:var(--card-grad);border:1px solid var(--border);border-radius:var(--radius);padding:18px;position:relative;overflow:hidden;}
.card:before {content:"";position:absolute;inset:0;pointer-events:none;background:var(--card-overlay);opacity:.55;mix-blend-mode:overlay;}

.add-form {display:flex;gap:12px;backdrop-filter:blur(6px);}
.input, .textarea {width:100%;background:var(--input-bg);border:1px solid var(--input-border);color:var(--text);padding:10px 14px;font-size:.95rem;border-radius:10px;outline:none;transition:.2s;border-bottom:1px solid var(--border);}
.input:focus, .textarea:focus {border-color:var(--accent);box-shadow:0 0 0 1px var(--accent);}
.textarea {resize:vertical;}

.btn {background:var(--button-bg);color:var(--text);border:1px solid var(--border);padding:10px 18px;font-size:.85rem;font-weight:500;border-radius:10px;cursor:pointer;display:inline-flex;align-items:center;gap:6px;letter-spacing:.3px;transition:.2s;}
.btn:hover {background:var(--button-hover);}
.btn.primary {background:var(--accent);border-color:var(--accent);color:#fff;}
.btn.primary:hover {background:var(--accent-hover);}
.btn:disabled {opacity:.4;cursor:not-allowed;}

.todo-list {list-style:none;margin:0;padding:0;display:grid;gap:18px;}
.todo-item {cursor:pointer;display:flex;flex-direction:column;gap:10px;transition:.25s;border:1px solid var(--border);background:var(--card-bg);border-radius:12px;padding:16px;}
.todo-item:hover {box-shadow:0 6px 20px -8px var(--shadow-color),0 0 0 1px var(--accent);border-color:var(--accent);transform:translateY(-2px);}
.todo-item.completed {opacity:.65;}
.todo-item.completed .badge {background:linear-gradient(120deg,var(--text-dim),var(--border));box-shadow:none;}
.priority-badges {display:flex;gap:6px;align-items:center;}
.prio {padding:4px 8px;font-size:.55rem;letter-spacing:.5px;border-radius:8px;font-weight:600;text-transform:uppercase;border:1px solid var(--border);background:var(--input-bg);color:var(--text-dim);}
.prio.low {background:var(--input-bg);border-color:#4caf50;color:#4caf50;}
.prio.med {background:var(--input-bg);border-color:#ff9800;color:#ff9800;}
.prio.high {background:var(--input-bg);border-color:#f44336;color:#f44336;}
.due {padding:4px 8px;font-size:.55rem;border-radius:8px;font-weight:500;background:var(--input-bg);border:1px solid var(--border);color:var(--text-dim);display:inline-flex;align-items:center;gap:4px;}
.due.overdue {background:var(--input-bg);border-color:#f44336;color:#f44336;}
.title-row {display:flex;align-items:center;gap:12px;}
.badge {background:var(--brown-grad);padding:6px 10px;font-size:.7rem;font-weight:600;letter-spacing:.5px;border-radius:8px;text-transform:uppercase;box-shadow:0 0 0 1px var(--accent);color:#fff;}
.title-text {font-size:1.05rem;font-weight:500;letter-spacing:.3px;}
.notes {margin:0;padding:0;list-style:none;display:flex;flex-direction:column;gap:4px;}
.note-line {font-size:.8rem;padding:6px 10px;background:var(--input-bg);border:1px solid var(--border);border-radius:8px;color:var(--text-dim);display:flex;align-items:center;gap:10px;}
.note-line.note-task.done {text-decoration:line-through;opacity:.55;}
.note-line .note-check {width:16px;height:16px;cursor:pointer;accent-color:var(--accent);}
.mini-check {display:inline-block;min-width:14px;font-size:.65rem;color:var(--accent);}
.note-type-toggle {display:flex;gap:6px;margin-bottom:6px;}
.seg-btn {flex:1;background:var(--button-bg);border:1px solid var(--border);color:var(--text-dim);padding:6px 10px;font-size:.65rem;border-radius:8px;cursor:pointer;font-weight:600;letter-spacing:.5px;text-transform:uppercase;transition:.2s;}
.seg-btn.active, .seg-btn:hover {background:var(--button-hover);color:var(--text);border-color:var(--accent);}

/* Compact add form adjustments */
.add-form.compact {padding:10px 14px;display:flex;align-items:center;gap:10px;}
.add-form.compact .input {padding:8px 12px;font-size:.85rem;}
.add-form.compact.with-bg {position:relative;background:rgba(20,16,12,.65);overflow:hidden;}
.add-form.compact.with-bg:before {content:"";position:absolute;inset:0;background-image:inherit;background-size:cover;background-position:center;filter:blur(8px) brightness(.4);border-radius:var(--radius);z-index:0;}
.add-form.compact.with-bg .input, .add-form.compact.with-bg .btn {position:relative;z-index:2;backdrop-filter:blur(4px);}
.add-form .banner-mini {width:46px;height:46px;border-radius:10px;overflow:hidden;position:relative;border:1px solid var(--border);display:flex;align-items:center;justify-content:center;background:var(--input-bg);}
.add-form .banner-mini img, .add-form .banner-mini video {width:100%;height:100%;object-fit:cover;}
.add-form .banner-actions {display:flex;flex-direction:column;gap:6px;}
.add-form .remove-banner-btn {position:absolute;top:2px;right:2px;background:rgba(0,0,0,.7);border:none;color:#fff;font-size:.55rem;padding:2px 4px;border-radius:6px;cursor:pointer;transition:.2s;}
.add-form .remove-banner-btn:hover {background:rgba(0,0,0,.9);}
.note-editor {display:flex;flex-direction:column;gap:8px;animation:fadeIn .25s ease;}
.note-actions {display:flex;justify-content:flex-end;gap:10px;}
.empty, .loading {text-align:center;color:var(--text-dim);font-size:.9rem;padding:40px 0;}
.app-footer {text-align:center;font-size:.7rem;color:var(--text-dim);padding:12px 0 40px;}

@keyframes fadeIn {from {opacity:0;transform:translateY(6px);} to {opacity:1;transform:translateY(0);} }

/* İnce scrollbar */
*::-webkit-scrollbar {width:10px;height:10px;}
*::-webkit-scrollbar-track {background:var(--scroll-track);}
*::-webkit-scrollbar-thumb {background:var(--scroll-thumb);border:2px solid var(--scroll-track);border-radius:20px;}
*::-webkit-scrollbar-thumb:hover {background:var(--scroll-thumb-hover);}

/* Calendar Widget */
.calendar-widget {padding:16px;max-width:320px;}
.calendar-header {display:flex;align-items:center;gap:8px;margin-bottom:12px;}
.calendar-month-title {margin:0;flex:1;text-align:center;font-size:.9rem;font-weight:600;}
.calendar-weekdays {display:grid;grid-template-columns:repeat(7,1fr);gap:2px;margin-bottom:8px;}
.calendar-weekday {text-align:center;font-size:.65rem;color:var(--text-dim);padding:4px;font-weight:600;text-transform:uppercase;}
.calendar-grid {display:grid;grid-template-columns:repeat(7,1fr);gap:2px;}
.calendar-day {background:var(--input-bg);border:1px solid var(--input-border);color:var(--text);padding:8px 4px;font-size:.75rem;border-radius:6px;cursor:pointer;transition:.2s;position:relative;min-height:32px;display:flex;align-items:center;justify-content:center;}
.calendar-day:hover:not(:disabled) {background:var(--button-hover);border-color:var(--accent);}
.calendar-day.today {background:var(--accent);color:#fff;font-weight:600;}
.calendar-day.selected {background:var(--accent);border-color:var(--accent);color:#fff;opacity:0.8;}
.calendar-day.other-month {opacity:.3;cursor:not-allowed;}
.calendar-day.has-data::after {content:'';position:absolute;bottom:2px;right:2px;width:4px;height:4px;background:var(--accent);border-radius:50%;}
.calendar-day.today.has-data::after {background:#fff;}
.data-indicator {position:absolute;bottom:2px;right:2px;width:4px;height:4px;background:var(--accent);border-radius:50%;}

/* View Mode Toggle */
.view-mode-toggle {display:flex;gap:6px;margin-bottom:16px;}
.view-mode-btn {flex:1;background:var(--button-bg);border:1px solid var(--border);color:var(--text-dim);padding:8px 12px;font-size:.75rem;border-radius:8px;cursor:pointer;font-weight:600;letter-spacing:.5px;text-transform:uppercase;transition:.2s;display:flex;align-items:center;justify-content:center;gap:6px;}
.view-mode-btn.active, .view-mode-btn:hover {background:var(--button-hover);color:var(--text);border-color:var(--accent);}

/* Date Navigation Bar */
.date-nav-bar {display:flex;align-items:center;gap:12px;margin-bottom:16px;padding:12px 16px;background:var(--input-bg);border:1px solid var(--border);border-radius:10px;}
.date-nav-title {flex:1;font-size:.9rem;font-weight:600;color:var(--text);}
.date-nav-title.is-today {color:var(--accent);}

/* Todo Groups */
.todo-group {margin-bottom:24px;}
.group-title {margin:0 0 12px;font-size:.9rem;font-weight:600;color:var(--accent);padding:8px 12px;background:var(--input-bg);border:1px solid var(--border);border-radius:8px;display:flex;align-items:center;gap:8px;}
.group-title:before {content:'';width:12px;height:2px;background:var(--accent);border-radius:1px;}

/* Subtask Styles */
.subtasks-block, .recurring-block {
  margin-bottom: 16px;
}

.subtasks-block h3, .recurring-block h3 {
  margin: 0 0 12px;
  font-size: 1.05rem;
  display: flex;
  align-items: center;
  gap: 8px;
}

.subtask-progress {
  display: flex;
  align-items: center;
  gap: 12px;
}

.progress-bar {
  flex: 1;
  height: 8px;
  background: var(--input-bg);
  border: 1px solid var(--border);
  border-radius: 10px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), var(--accent-hover));
  transition: width 0.3s ease;
  border-radius: 8px;
}

.progress-text {
  font-size: .75rem;
  color: var(--text-dim);
  font-weight: 500;
  min-width: 80px;
}

/* Tema Seçici Dropdown Stilleri */
.theme-selector {
  position: relative;
  display: inline-block;
  -webkit-app-region: no-drag;
}

.theme-toggle {
  display: flex;
  align-items: center;
  gap: 6px;
  background: var(--button-bg);
  border: 1px solid var(--border);
  color: var(--text);
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
  font-size: .75rem;
  font-weight: 500;
  transition: all 0.2s ease;
  min-width: 120px;
  justify-content: space-between;
}

.theme-toggle:hover {
  background: var(--button-hover);
  border-color: var(--accent);
}

.dropdown-arrow {
  font-size: .7rem;
  color: var(--text-dim);
  transition: transform 0.2s ease;
}

.dropdown-arrow.open {
  transform: rotate(180deg);
}

.theme-dropdown {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  right: 0;
  background: var(--card-grad);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: var(--shadow);
  z-index: 1000;
  backdrop-filter: blur(8px);
}

.theme-option {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  padding: 10px 12px;
  background: transparent;
  border: none;
  color: var(--text);
  cursor: pointer;
  font-size: .8rem;
  transition: all 0.2s ease;
  border-bottom: 1px solid var(--border);
  -webkit-app-region: no-drag;
}

.theme-option:last-child {
  border-bottom: none;
}

.theme-option:hover {
  background: var(--button-hover);
}

.theme-option.active {
  background: var(--accent);
  color: white;
}

.theme-option.active:hover {
  background: var(--accent-hover);
}

.theme-icon {
  font-size: 1rem;
  width: 20px;
  text-align: center;
}

.theme-name {
  flex: 1;
  text-align: left;
  font-weight: 500;
}

.check {
  font-size: .8rem;
  color: white;
  font-weight: bold;
}

/* Background geçişleri için ek stil */
[data-theme="ocean"] html,
[data-theme="ocean"] body {
  background: radial-gradient(circle at 25% 18%, #1e2a3a, #0f1419 60%);
}

[data-theme="sakura"] html,
[data-theme="sakura"] body {
  background: radial-gradient(circle at 25% 18%, #2d1b2d, #1a0f1a 60%);
}

[data-theme="forest"] html,
[data-theme="forest"] body {
  background: radial-gradient(circle at 25% 18%, #1a2e1a, #0d1a0d 60%);
}

[data-theme="sunset"] html,
[data-theme="sunset"] body {
  background: radial-gradient(circle at 25% 18%, #2d1a1a, #1a0f0d 60%);
}

[data-theme="purple"] html,
[data-theme="purple"] body {
  background: radial-gradient(circle at 25% 18%, #1f1530, #120a1a 60%);
}

[data-theme="mocha"] html,
[data-theme="mocha"] body {
  background: radial-gradient(circle at 25% 18%, #2d1b15, #1a0f0a 60%);
}

[data-theme="galaxy"] html,
[data-theme="galaxy"] body {
  background: radial-gradient(circle at 25% 18%, #15152d, #0a0a15 60%);
}

[data-theme="nord"] html,
[data-theme="nord"] body {
  background: radial-gradient(circle at 25% 18%, #3b4252, #2e3440 60%);
}

.subtasks.list {
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-height: 200px;
  overflow: auto;
}

.subtask-line {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 12px;
  background: var(--input-bg);
  border: 1px solid var(--border);
  border-radius: 8px;
  transition: all 0.2s ease;
}

.subtask-line:hover {
  border-color: var(--accent);
  background: var(--button-hover);
}

.subtask-line.completed {
  opacity: 0.6;
}

.subtask-line.completed .subtask-text {
  text-decoration: line-through;
}

.subtask-check {
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: var(--accent);
}

.subtask-text {
  font-size: .85rem;
  color: var(--text);
  flex: 1;
}

.subtask-new {
  border-top: 1px solid var(--border);
  padding-top: 12px;
}

/* Recurring Task Styles */
.recurring-block select {
  min-width: 140px;
}

.recurring-block input[type="number"] {
  text-align: center;
}

/* Todo item subtask preview */
.todo-item .subtask-preview {
  margin-top: 8px;
  font-size: .75rem;
  color: var(--text-dim);
  display: flex;
  align-items: center;
  gap: 6px;
}

.subtask-mini-progress {
  width: 60px;
  height: 4px;
  background: var(--input-bg);
  border-radius: 2px;
  overflow: hidden;
}

.subtask-mini-progress .progress-fill {
  height: 100%;
  background: var(--accent);
  transition: width 0.3s ease;
}

/* Recurring indicator */
.recurring-indicator {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: .6rem;
  color: var(--accent);
  background: var(--input-bg);
  border: 1px solid var(--accent);
  padding: 2px 6px;
  border-radius: 8px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .5px;
}

.recurring-indicator::before {
  content: '🔄';
  font-size: .55rem;
}

/* Drag & Drop Styles */
.todo-item {
  display: flex;
  align-items: stretch;
  position: relative;
  transition: all 0.3s ease, box-shadow 0.2s ease;
}

.todo-item.dragging {
  opacity: 0.5;
  transform: rotate(3deg) scale(1.02);
  box-shadow: 0 8px 24px rgba(0,0,0,0.3);
  z-index: 1000;
  border-color: var(--accent);
}

.todo-item.drag-over {
  border-color: var(--accent);
  background: var(--button-hover);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px -8px var(--shadow-color), 0 0 0 2px var(--accent);
}

.todo-item.drag-over::before {
  content: '';
  position: absolute;
  top: -2px;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--accent);
  border-radius: 2px;
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

.drag-handle {
  display: flex;
  align-items: center;
  justify-content: center;
  user-select: none;
  font-weight: bold;
  opacity: 0.4;
  transition: opacity 0.2s ease;
}

.todo-item:hover .drag-handle {
  opacity: 0.8;
}

.todo-item.dragging .drag-handle {
  opacity: 1;
  color: var(--accent);
}

.title-row {
  flex: 1;
}

/* Visual feedback for drag state */
.todo-list {
  position: relative;
}

.todo-list.drag-active {
  user-select: none;
}

.todo-list.drag-active .todo-item:not(.dragging) {
  opacity: 0.7;
  transition: all 0.2s ease;
}

/* Mobile responsive drag handle */
@media (max-width: 768px) {
  .drag-handle {
    font-size: 1.2rem;
    padding: 8px;
  }
}
